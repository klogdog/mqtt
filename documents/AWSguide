Launch an EC2 or lightsail instance with ubuntu 16.04 LTS as the OS

open a terminal 
#updates and upgrades all packages for Ubuntu
sudo apt-get update
sudo apt-get upgrade 

# install mosquitto
sudo apt-get install mosquitto 
#alternatively you could just use apt-get install mosquitto


#Create a influxdb package list, update packages, and install influxdb
sudo touch /etc/apt/sources.list.d/influxdb.list
sudo vim /etc/apt/sources.listl.d/influxdb.list
i
deb https://repos.influxdata.com/ubuntu xenial stable
hit escape key
:wq
cd
wget https://repos.influxdata.com/influxdb.key
sudo apt-key add inlfluxdb.key
sudo apt-get update
sudo apt-get install influxdb

#Install Grafana
wget https://s3-us-west-2.amazonaws.com/grafana-releases/release/grafana_4.2.0_amd64.deb
sudo apt-get install -y adduser libfontconfig
sudo dpkg -i grafana_4.2.0_amd64.deb

#install python and packages
sudo apt-get install python
sudo apt-get install python-pip
sudo pip install paho-mqtt
sudo pip install influxdb

